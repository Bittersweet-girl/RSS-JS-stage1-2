(()=>{"use strict";var e={528:(e,n,t)=>{t.r(n)},850:(e,n,t)=>{t.r(n)},870:(e,n,t)=>{t.r(n)},216:(e,n,t)=>{t.r(n)},852:(e,n,t)=>{t.r(n)},949:(e,n,t)=>{t.r(n)},914:(e,n,t)=>{t.r(n)},724:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.deleteWinnerApi=n.getWinnerStatusApi=n.createWinnerApi=n.updateWinnerApi=n.getWinnerApi=n.driveApi=n.stopEngineApi=n.startEngineApi=n.deleteCarApi=n.updateCarApi=n.getCarApi=n.createCarApi=void 0;const i=t(940);n.createCarApi=function(e){return a(this,void 0,void 0,(function*(){return(yield fetch(i.garageURL,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))},n.getCarApi=function(e){return a(this,void 0,void 0,(function*(){return(yield fetch(`${i.garageURL}/${e}`)).json()}))},n.updateCarApi=(e,n)=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i.garageURL}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()})),n.deleteCarApi=e=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i.garageURL}/${e}`,{method:"DELETE"})).json()})),n.startEngineApi=function(e){return a(this,void 0,void 0,(function*(){return(yield fetch(`${i.engineURL}?id=${e}&status=started`,{method:"PATCH"})).json()}))},n.stopEngineApi=e=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i.engineURL}?id=${e}&status=stopped`,{method:"PATCH"})).json()})),n.driveApi=function(e){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${i.engineURL}?id=${e}&status=drive`,{method:"PATCH"}).catch();return 200!==n.status?{success:!1}:Object.assign({},yield n.json())}))},n.getWinnerApi=function(e){return a(this,void 0,void 0,(function*(){return(yield fetch(`${i.winnersURL}/${e}`)).json()}))},n.updateWinnerApi=function(e,n){return a(this,void 0,void 0,(function*(){(yield fetch(`${i.winnersURL}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()}))},n.createWinnerApi=function(e){return a(this,void 0,void 0,(function*(){(yield fetch(i.winnersURL,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))},n.getWinnerStatusApi=function(e){return a(this,void 0,void 0,(function*(){return(yield fetch(`${i.winnersURL}/${e}`)).status}))},n.deleteWinnerApi=e=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i.winnersURL}/${e}`,{method:"DELETE"})).json()}))},686:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.renderCar=void 0,t(528);const a=t(606);n.renderCar=function(e){return`\n  <div class="garage__item-changes">\n    <button class="btn btn-small garage__item-select" data-id="${e.id}">Select</button>\n    <button class="btn btn-small garage__item-remove" data-id="${e.id}">Remove</button>\n    <span>${e.name}</span>\n  </div>\n  <div class="garage__item-handles">\n    <button data-id="${e.id}" class="btn btn-small garage__item-start">Start</button>\n    <button data-id="${e.id}" class="btn btn-small garage__item-stop" disabled="">\n    Stop</button>\n  </div>\n  <div class="garage__item-road">\n    <div class="garage__item-car">${(0,a.carImage)(e.color,e.id)}</div>\n    <div class="garage__item-finish">\n      <img data-id="${e.id}" class="garage__item-finish_img"\n      src="./assets/flag-finish.svg" alt="flag">\n    </div>\n  </div>`}},934:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.carAnimation=void 0;const a=t(940),i=t(961);n.carAnimation=function(e,n){const t=document.getElementById(e.toFixed()),r=document.querySelectorAll(".garage__item-finish_img");let o,c=null;r.forEach((e=>{e.getAttribute("data-id")===t.id&&(o=Math.floor((0,i.getDistanceBetweenElement)(t,e))+90)})),a.STATE.end=!1,a.STATE.id=window.requestAnimationFrame((function e(i){c||(c=i);const r=i-c,s=Math.round(r*(o/n));t.style.transform=`translate(${Math.min(s,o)}px)`,a.STATE.distance=s,s<o?a.STATE.id=window.requestAnimationFrame(e):a.STATE.end=!0}))}},606:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.carImage=void 0,n.carImage=function(e,n){return`\n  <svg class="garage__item-car_svg"  id="${n}" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" \n  xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 511.998 511.998" style="enable-background:new 0 0 511.998 511.998;" xml:space="preserve">\n  <g><g>\n\t<path fill="${e}" d="M495.322,273.23h-8.214v-22.881c0-26.929-21.908-48.838-48.838-48.838h-45.609l-1.096-2.487\n\tc-22.25-50.499-72.284-83.129-127.466-83.129H132.02c-27.912,0-52.173,17.927-60.373,44.607l-13.841,45.043\n\tc-10.609,5.298-18.436,15.354-20.674,27.358c6.888,0,12.436,0,19.282,0c6.448,0,11.675,5.227,11.675,11.675\n\tc0,6.56-5.367,11.675-11.675,11.675H36.472\n  v17.019C16.213,274.145,0,290.892,0,311.361c0,21.027,17.106,38.133,38.132,38.133\n\th11.966c-3.515-47.129,31.049-86.927,75.828-92.301h20.714c45.217,5.426,79.307,45.674,75.828,92.301h87.259\n\tc-3.845-51.52,38.249-92.88,82.06-92.88c1.554,0,4.367-0.057,4.367-0.057c49.665,0.138,89.71,42.424,85.944,92.937h13.22\n\tc9.211,0,16.678-7.467,16.678-16.678\n  v-42.908C512,280.696,504.534,273.23,495.322,273.23z M180.106,201.51H93.943l9.59-31.21\n\tc3.868-12.59,15.317-21.05,28.488-21.05h48.085V201.51z M295.736,256.251H256c-6.448,0-11.675-5.227-11.675-11.675\n\tc0-6.448,5.227-11.675,11.675-11.675\n  h39.736c6.448,0,11.675,5.227,11.675,11.675C307.411,251.024,302.184,256.251,295.736,256.251\n\tz M213.462,201.511v-52.26H264.1c37.825,0,72.461,20.164,91.321,52.26H213.462z"/>\n\t</g></g><g><g>\n\t<path d="M136.284,289.906c-29.326,0-53.098,23.773-53.098,53.098c0,29.326,23.773,53.098,53.098,53.098\n\tc29.326,0,53.098-23.773,53.098-53.098C189.382,313.679,165.61,289.906,136.284,289.906z M136.284,363.184\n\tc-11.144,0-20.179-9.034-20.179-20.178s9.034-20.179,20.179-20.179c11.144,0,20.178,9.034,20.178,20.179\n\tC156.463,354.149,147.428,363.184,136.284,363.184z"/>\n\t</g></g><g><g>\n\t<path d="M395.915,289.906c-29.326,0-53.098,23.773-53.098,53.098c0,29.326,23.773,53.098,53.098,53.098\n\ts53.098-23.773,53.098-53.098C449.014,313.679,425.241,289.906,395.915,289.906z M395.915,363.184\n\tc-11.144,0-20.178-9.034-20.178-20.178s9.034-20.179,20.178-20.179s20.179,9.034,20.179,20.179\n\tC416.095,354.149,407.06,363.184,395.915,363.184z"/>\n\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n</svg>`}},733:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.startEngine=void 0;const i=t(724),r=t(940),o=t(934);n.startEngine=function(e){return a(this,void 0,void 0,(function*(){const{velocity:n,distance:t}=yield(0,i.startEngineApi)(e),a=Math.round(t/n);(0,o.carAnimation)(e,a);const{success:c}=yield(0,i.driveApi)(e);return c||(r.STATE.end=!0,window.cancelAnimationFrame(r.STATE.id)),{success:c,id:e,animationTime:a}}))}},24:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.stopEngine=void 0;const i=t(724),r=t(940);n.stopEngine=function(e){return a(this,void 0,void 0,(function*(){r.STATE.stopped=!0,yield(0,i.stopEngineApi)(e),document.getElementById(e.toFixed()).style.transform="translateX(0)",window.cancelAnimationFrame(r.STATE.id)}))}},72:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.changePage=void 0,n.changePage=function(){const e=document.querySelector(".header__link_garage"),n=document.querySelector(".header__link_winners"),t=document.querySelector(".winners"),a=document.querySelector(".garage");e.addEventListener("click",(()=>{t.style.display="none",a.style.display="block"})),n.addEventListener("click",(()=>{a.style.display="none",t.style.display="block"}))}},940:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.STATE=n.NAMES=n.MODELS=n.WINNERSSPERPAGE=n.CARSPERPAGE=n.garageURL=n.winnersURL=n.engineURL=void 0;const t="http://127.0.0.1:3000",a=`${t}/garage`;n.garageURL=a;const i=`${t}/winners`;n.winnersURL=i;const r=`${t}/engine`;n.engineURL=r,n.CARSPERPAGE=7,n.WINNERSSPERPAGE=10,n.STATE={id:1,end:!0,distance:0,stopped:!1},n.MODELS=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],n.NAMES=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"]},961:(e,n)=>{function t(e){const{top:n,left:t,width:a,height:i}=e.getBoundingClientRect();return{x:t+a/2,y:n+i/2}}Object.defineProperty(n,"__esModule",{value:!0}),n.getDistanceBetweenElement=void 0,n.getDistanceBetweenElement=function(e,n){const a=t(e),i=t(n);return Math.hypot(a.x-i.x,a.y-i.y)}},306:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.renderWinner=void 0,n.renderWinner=function(e){return`${e.map(((e,n)=>`<tr>\n   <td>${n+1}</td>\n   <td>${e.car.name}</td>\n   <td>${e.wins}</td>\n   <td>${e.time}</td>\n </tr>`)).join("")}`}},727:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.renderGarageResult=n.makeGarageTitle=void 0;const i=t(940),r=t(686);function o(e,n){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${i.garageURL}?_page=${e}&_limit=${n}`),a=yield t.json(),o=yield fetch(`${i.garageURL}`);return`\n    <h3>In garage ${(yield o.json()).length} cars</h3>\n    <div class="garage-pagination">\n        <h3 class="garage-pagination__title">Page ${e}</h3>\n        <button class="btn btn-prev">Prev</button>\n        <button class="btn btn-next">Next</button>\n    </div>\n    <div class="garage-content__items">\n    ${a.map((e=>`<div class="garage__item">${(0,r.renderCar)(e)}</div>`)).join("")}\n    </div>`}))}n.makeGarageTitle=o,n.renderGarageResult=function(e=1){o(e,i.CARSPERPAGE).then((e=>{const n=document.querySelector(".garage-content");n.innerHTML="",n.innerHTML=e}))}},118:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.garageHandler=void 0;const a=t(802),i=t(724),r=t(718),o=t(727),c=t(733),s=t(24),d=t(756);n.garageHandler=function(){document.querySelector(".garage-content").addEventListener("click",(e=>{const n=document.querySelectorAll(".garage__item-stop"),t=document.querySelectorAll(".garage__item-start");if(e.target.classList.contains("btn-prev")&&(0,a.prevPage)(),e.target.classList.contains("btn-next")&&(0,a.nextPage)(),e.target.classList.contains("garage__item-select")){const n=Number(e.target.getAttribute("data-id"));(0,i.getCarApi)(n).then((e=>{document.querySelector(".garage-update-button").disabled=!1,(0,r.updateCar)(n,e)}))}if(e.target.classList.contains("garage__item-remove")){const n=Number(e.target.getAttribute("data-id"));(0,i.deleteCarApi)(n),(0,i.deleteWinnerApi)(n),(0,o.renderGarageResult)(),(0,d.renderWinnersResult)()}if(e.target.classList.contains("garage__item-start")){const a=e.target.getAttribute("data-id");(0,c.startEngine)(Number(a)),t.forEach((e=>{a===e.getAttribute("data-id")&&(e.disabled=!0)})),n.forEach((e=>{a===e.getAttribute("data-id")&&(e.disabled=!1)}))}if(e.target.classList.contains("garage__item-stop")){const a=e.target.getAttribute("data-id");(0,s.stopEngine)(Number(a)),t.forEach((e=>{a===e.getAttribute("data-id")&&(e.disabled=!1)})),n.forEach((e=>{a===e.getAttribute("data-id")&&(e.disabled=!0)}))}}))}},36:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.generate=n.generateRandomCars=n.getRandomColor=n.getRandomNAme=void 0;const i=t(940),r=t(724),o=t(727);n.getRandomNAme=()=>`${i.MODELS[Math.floor(Math.random()*i.MODELS.length)]} ${i.NAMES[Math.floor(Math.random()*i.NAMES.length)]}`,n.getRandomColor=()=>{let e="#";for(let n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},n.generateRandomCars=(e=100)=>new Array(e).fill(1).map((()=>({name:(0,n.getRandomNAme)(),color:(0,n.getRandomColor)()}))),n.generate=function(){document.querySelector(".garage-generate-btn").addEventListener("click",(()=>{(0,n.generateRandomCars)().map((e=>a(this,void 0,void 0,(function*(){return(0,r.createCarApi)(e)})))),(0,o.renderGarageResult)()}))}},718:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.updateCar=n.createCar=void 0;const i=t(724),r=t(727);let o,c;n.createCar=function(){const e=document.querySelector(".garage-create-text"),n=document.querySelector(".garage-create-color");n.addEventListener("change",(()=>{o=n.value.toString()})),e.addEventListener("change",(()=>{c=e.value.toString()})),document.querySelector(".garage-create-button").addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,i.createCarApi)({name:c,color:o}),(0,r.renderGarageResult)(),n.value="#ffffff",e.value=""}))))},n.updateCar=function(e,n){const t=document.querySelector(".garage-update-text"),s=document.querySelector(".garage-update-color");t.value=n.name,s.value=n.color,s.addEventListener("change",(()=>{o=s.value.toString()})),t.addEventListener("change",(()=>{c=t.value.toString()})),document.querySelector(".garage-update-button").addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,i.updateCarApi)(e,{name:c,color:o}),(0,r.renderGarageResult)(),s.value="#ffffff",t.value="",document.querySelector(".garage-update-button").disabled=!0}))))}},802:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.nextPage=n.prevPage=void 0;const i=t(727),r=t(940);let o=1;n.prevPage=function(){o>1&&(o--,(0,i.renderGarageResult)(o))},n.nextPage=function(){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${r.garageURL}`),n=yield e.json();Math.ceil(n.length/7)>o&&(o++,(0,i.renderGarageResult)(o))}))}},759:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.raceClick=void 0;const i=t(733),r=t(1),o=t(289),c=t(756);n.raceClick=function(){document.querySelector(".garage-race-btn").addEventListener("click",(()=>a(this,void 0,void 0,(function*(){document.querySelectorAll(".garage__item-start").forEach((e=>{e.disabled=!0})),document.querySelectorAll(".garage__item-stop").forEach((e=>{e.disabled=!1})),yield function(){return a(this,void 0,void 0,(function*(){let e=!0;document.querySelectorAll(".garage__item-car_svg").forEach((n=>a(this,void 0,void 0,(function*(){const t=yield(0,i.startEngine)(Number(n.id));(null==t?void 0:t.success)&&e&&0!==Object.keys(t).length&&(e=!1,(0,r.addPopupWinner)(Number(t.id),Number(t.animationTime)),(0,o.addWinner)(t.id,Number((t.animationTime/1e3).toFixed(2)))),t.animationTime&&(0,c.renderWinnersResult)()}))))}))}()}))))}},62:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.resetClick=void 0;const i=t(24);n.resetClick=function(){document.querySelector(".garage-reset-btn").addEventListener("click",(()=>a(this,void 0,void 0,(function*(){document.querySelectorAll(".garage__item-start").forEach((e=>{e.disabled=!1})),document.querySelectorAll(".garage__item-stop").forEach((e=>{e.disabled=!0})),yield function(){return a(this,void 0,void 0,(function*(){document.querySelectorAll(".garage__item-car_svg").forEach((e=>a(this,void 0,void 0,(function*(){yield(0,i.stopEngine)(Number(e.id))}))))}))}()}))))}},845:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.makeHeader=void 0,t(870),n.makeHeader=function(){return'<header class="header">\n              <a href="#" class="header__link header__link_garage">Garage</a>\n              <h1>Acync Race</h1>\n              <a href="#" class="header__link header__link_winners">Winners</a>\n          </header>'}},662:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.makeMainGarage=void 0,t(216);const a=t(727);n.makeMainGarage=function(){return`<section class="garage">\n    <div class="garage-options">\n      <div class="garage-inputs">\n          <div class="garage-inputs__create">\n              <input class="garage-create-text" type="text">\n              <input class="garage-create-color" type="color" value="#ffffff">\n              <button class="btn garage-create-button">create</button>\n          </div>\n          <div class="garage-inputs__update">\n              <input class="garage-update-text" type="text">\n              <input class="garage-update-color" type="color" value="#ffffff">\n              <button class="btn garage-update-button" disabled="">update</button>\n          </div>\n      </div>\n      <div class="garage__buttons">\n          <button class="btn garage-race-btn">Race</button>\n          <button class="btn garage-reset-btn">Reset</button>\n          <button class="btn garage-generate-btn">Generate cars</button>\n      </div>\n    </div>\n    <div class="garage-content">\n      ${(0,a.renderGarageResult)()}\n    </div>\n    <div class="garage-popup">\n    </div>\n    </section>`}},283:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.makeMainWinners=void 0,t(852);const a=t(756);n.makeMainWinners=function(){return`<section class="winners">\n    <div class="winners-content">\n      ${(0,a.renderWinnersResult)()}\n    </div>\n    </section>`}},150:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.makeMainLayout=void 0;const a=t(845),i=t(662),r=t(718),o=t(36),c=t(118),s=t(283),d=t(759),u=t(62),l=t(994);n.makeMainLayout=function(){const e=document.body;e.innerHTML=(0,a.makeHeader)();const n=document.createElement("main");return n.innerHTML=(0,i.makeMainGarage)()+(0,s.makeMainWinners)(),e.appendChild(n),(0,r.createCar)(),(0,o.generate)(),(0,c.garageHandler)(),(0,l.winnerHandler)(),(0,d.raceClick)(),(0,u.resetClick)(),e}},1:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.addPopupWinner=n.renderPopup=void 0,t(949);const i=t(724);function r(e,n){const t=document.querySelector(".garage-popup");return t.innerHTML=`<div class="garage-popup-content">\n          <p class="garage-popup__text">${e} went first at (${n}s)!</p>\n          <button class="btn garage-popup__delete">\n             OK\n          </button>\n       </div>`,t}n.renderPopup=r,n.addPopupWinner=function(e,n){return a(this,void 0,void 0,(function*(){const t=yield(0,i.getCarApi)(e);n&&(r(t.name,(n/1e3).toFixed(2)),document.querySelector(".garage-popup").style.display="flex",document.querySelector(".garage-popup__delete").addEventListener("click",(()=>{document.querySelector(".garage-popup").style.display="none"})))}))}},289:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.addWinner=void 0;const i=t(724);n.addWinner=function(e,n){return a(this,void 0,void 0,(function*(){if(404===(yield(0,i.getWinnerStatusApi)(e)))yield(0,i.createWinnerApi)({id:e,wins:1,time:n});else{const t=yield(0,i.getWinnerApi)(e);n&&t.time&&(yield(0,i.updateWinnerApi)(e,{id:e,wins:t.wins+1,time:n<t.time?n:t.time}))}}))}},71:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.nextPage=n.prevPage=void 0;const i=t(940),r=t(756);let o=1;n.prevPage=function(){o>1&&(o--,(0,r.renderWinnersResult)(o))},n.nextPage=function(){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.winnersURL}`),n=yield e.json();Math.ceil(n.length/7)>o&&(o++,(0,r.renderWinnersResult)(o))}))}},994:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.winnerHandler=void 0;const a=t(71),i=t(756);n.winnerHandler=function(){const e=document.querySelector(".winners-content");let n="asc";e.addEventListener("click",(e=>{e.target.classList.contains("btn-prev")&&(0,a.prevPage)(),e.target.classList.contains("btn-next")&&(0,a.nextPage)(),e.target.classList.contains("btn-win")&&(n="asc"===n?"desc":"asc",(0,i.renderWinnersResult)(1,"wins",n)),e.target.classList.contains("btn-time")&&(n="asc"===n?"desc":"asc",(0,i.renderWinnersResult)(1,"time",n))}))}},756:function(e,n,t){var a=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(i,r){function o(e){try{s(a.next(e))}catch(e){r(e)}}function c(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,c)}s((a=a.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.renderWinnersResult=n.renderWinners=void 0,t(914);const i=t(940),r=t(306),o=t(724);function c(e,n,t,c){return a(this,void 0,void 0,(function*(){const s=yield fetch(`${i.winnersURL}?_page=${n}&_limit=${e}${function(e,n){return e&&n?`&_sort=${e}&_order=${n}`:""}(t,c)}`),d=yield s.json(),u=yield Promise.all(d.map((e=>a(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{car:yield(0,o.getCarApi)(e.id)})}))))),l=yield fetch(`${i.winnersURL}?`);return`\n  <h3>Winners (${(yield l.json()).length})</h3>\n  <div class="winners-pagination">\n    <h4 class="winners-pagination__title">Page ${n}</h4>\n    <button class="btn btn-prev">Prev</button>\n    <button class="btn btn-next">Next</button>\n  </div>\n  <table class="winner-table">\n  <thead>\n    <th>Number</th>\n    <th>Name</th>\n    <th><button class="btn btn-win">Wins</button></th>\n    <th><button class="btn btn-time">Best time (sec)</button></th>\n  </thead>\n<tbody>\n${(0,r.renderWinner)(u)}\n  </tbody>\n</table>`}))}n.renderWinners=c,n.renderWinnersResult=function(e=1,n="id",t="ASC"){c(i.WINNERSSPERPAGE,e,n,t).then((e=>{const n=document.querySelector(".winners-content");n.innerHTML="",n.innerHTML=e}))}}},n={};function t(a){var i=n[a];if(void 0!==i)return i.exports;var r=n[a]={exports:{}};return e[a].call(r.exports,r,r.exports,t),r.exports}t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=t(72);t(850);const n=t(150);window.addEventListener("DOMContentLoaded",(()=>{(0,n.makeMainLayout)(),(0,e.changePage)()}))})()})();